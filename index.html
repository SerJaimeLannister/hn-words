<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HN Word Oracle</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0f0f0f;
            --card-bg: #1a1a1a;
            --text: #eeeeee;
            --text-muted: #aaaaaa;
            --hn-orange: #ff6600;
            --input-border: #333333;
            --shadow: 0 10px 40px rgba(0,0,0,0.4);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        body.light {
            --bg: #f6f6ef;
            --card-bg: #ffffff;
            --text: #222222;
            --text-muted: #828282;
            --input-border: #e0e0e0;
            --shadow: 0 10px 30px rgba(0,0,0,0.05);
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            transition: var(--transition);
            padding-bottom: 50px;
        }
        .top-nav { width: 100%; max-width: 900px; display: flex; justify-content: space-between; align-items: center; padding: 20px; box-sizing: border-box; }
        .theme-toggle { cursor: pointer; padding: 8px; border-radius: 50%; background: var(--card-bg); border: 1px solid var(--input-border); display: flex; align-items: center; }
        .main-card { background: var(--card-bg); padding: 40px; border-radius: 24px; box-shadow: var(--shadow); width: 90%; max-width: 600px; border: 1px solid var(--input-border); position: relative; overflow: hidden; margin-bottom: 20px; }
        .main-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 6px; background: var(--hn-orange); }
        h1 { font-weight: 800; font-size: 1.8rem; margin-bottom: 24px; letter-spacing: -1px; }
        .search-area { display: flex; gap: 12px; margin-bottom: 30px; }
        input { flex: 1; background: var(--bg); border: 1px solid var(--input-border); padding: 14px 18px; border-radius: 12px; color: var(--text); font-size: 16px; outline: none; transition: var(--transition); }
        input:focus { border-color: var(--hn-orange); }
        .btn { background: var(--hn-orange); color: white; border: none; padding: 0 20px; border-radius: 12px; font-weight: 700; cursor: pointer; transition: var(--transition); height: 50px; }
        .btn-secondary { background: var(--bg); border: 1px solid var(--input-border); color: var(--text); }
        #results { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; display: none; }
        .stat-item { background: var(--bg); padding: 20px; border-radius: 16px; border: 1px solid var(--input-border); }
        .full { grid-column: span 2; }
        .stat-label { font-size: 11px; text-transform: uppercase; color: var(--text-muted); font-weight: 600; }
        .stat-value { font-family: 'JetBrains Mono', monospace; font-size: 22px; font-weight: 700; color: var(--hn-orange); }
        .got-box { background: linear-gradient(135deg, #2a2a2a 0%, #111 100%); color: #ffd700; border: 1px solid #444; padding: 25px; border-radius: 16px; margin-top: 20px; text-align: center; display: none; }
        .got-value { font-size: 32px; font-weight: 800; }
        #leaderboard-section { width: 90%; max-width: 600px; background: var(--card-bg); border-radius: 24px; padding: 30px; border: 1px solid var(--input-border); display: none; margin-top: 20px; }
        .lb-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid var(--input-border); font-size: 14px; }
        .lb-user { font-weight: 700; color: var(--hn-orange); }
        footer { margin-top: 40px; text-align: center; color: var(--text-muted); font-size: 14px; max-width: 600px; }
        .badge { display: inline-flex; align-items: center; gap: 6px; background: var(--card-bg); padding: 4px 10px; border-radius: 15px; border: 1px solid var(--input-border); font-weight: 600; margin: 5px; }
        #loader { display: none; color: var(--hn-orange); margin: 20px; font-weight: bold; animation: pulse 1s infinite; }
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
    </style>
</head>
<body class="dark">

    <div class="top-nav">
        <div style="font-weight: 800; color: var(--hn-orange); letter-spacing: 1px;">HN_WORD_ORACLE</div>
        <div class="theme-toggle" onclick="document.body.classList.toggle('light')">ðŸŒ“</div>
    </div>

    <div class="main-card">
        <h1>Prolificacy Analyzer</h1>
        <div class="search-area">
            <input type="text" id="username" placeholder="Username" value="Imustaskforhelp">
            <button class="btn" id="searchBtn" onclick="getRank()">RUN</button>
        </div>

        <div id="results">
            <div class="stat-item full">
                <div class="stat-label">Author</div>
                <div id="res-user" class="stat-value">---</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Global Rank</div>
                <div id="res-rank" class="stat-value">---</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Word Count</div>
                <div id="res-words" class="stat-value">---</div>
            </div>
            <div class="stat-item full">
                <div class="stat-label">Percentile</div>
                <div id="res-percentile" class="stat-value">---</div>
            </div>
        </div>

        <div id="got-section" class="got-box">
            <div style="font-size: 12px; text-transform: uppercase; letter-spacing: 2px; color: #aaa; margin-bottom: 10px;">Game of Thrones Conversion</div>
            <div id="got-val" class="got-value">0.00 Volumes</div>
            <div style="font-size: 11px; margin-top: 10px; color: #888;">(1 Book = 300,000 words)</div>
        </div>

        <div style="margin-top: 30px; display: flex; gap: 10px;">
            <button class="btn btn-secondary" style="width: 100%;" onclick="getTop1000()">View Top 1000 Leaderboard</button>
        </div>
    </div>

    <div id="loader">QUERYING CLICKHOUSE...</div>

    <div id="leaderboard-section">
        <h3 style="margin-top: 0;">Top 1000 Prolific Writers</h3>
        <div id="lb-content"></div>
    </div>

    <footer>
        <div style="margin: 15px 0;">Data powered by ClickHouse</div>
        <div style="font-size: 11px; opacity: 0.6;">
            Updated daily via <span class="badge">GitHub Actions</span>
        </div>
    </footer>

    <script>
        const CH_URL = 'https://play.clickhouse.com/?user=play&add_http_cors_header=1';

        // --- DO NOT REMOVE THE COMMENTS BELOW ---
        // DATA_START
        var PRELOADED_LEADERBOARD = [{"username":"dragonwriter","words":4785959},{"username":"tptacek","words":4310896},{"username":"jacquesm","words":3841209},{"username":"dang","words":3344689},{"username":"TeMPOraL","words":3131449},{"username":"rayiner","words":2747766},{"username":"jerf","words":2701314},{"username":"coldtea","words":2696913},{"username":"dredmorbius","words":2583878},{"username":"pjmlp","words":2510303},{"username":"AnthonyMouse","words":2260596},{"username":"ChuckMcM","words":2251499},{"username":"tzs","words":2141376},{"username":"derefr","words":2130838},{"username":"PaulHoule","words":2110424},{"username":"vidarh","words":2059290},{"username":"Animats","words":1999366},{"username":"kragen","words":1982840},{"username":"anigbrowl","words":1950935},{"username":"Retric","words":1911252},{"username":"JumpCrisscross","words":1849906},{"username":"lmm","words":1840444},{"username":"nostrademons","words":1822427},{"username":"DonHopkins","words":1800010},{"username":"ghaff","words":1794308},{"username":"kazinator","words":1648380},{"username":"toomuchtodo","words":1628467},{"username":"tialaramex","words":1624094},{"username":"DanBC","words":1592928},{"username":"godelski","words":1537716},{"username":"jrockway","words":1497782},{"username":"adventured","words":1494470},{"username":"pjc50","words":1425286},{"username":"dragontamer","words":1397761},{"username":"hinkley","words":1392426},{"username":"thaumasiotes","words":1390556},{"username":"AnimalMuppet","words":1385104},{"username":"kelnos","words":1379723},{"username":"masklinn","words":1355066},{"username":"ben_w","words":1344731},{"username":"acdha","words":1322167},{"username":"wpietri","words":1319812},{"username":"Dylan16807","words":1289450},{"username":"toast0","words":1287042},{"username":"WalterBright","words":1285245},{"username":"api","words":1284972},{"username":"brudgers","words":1275113},{"username":"graycat","words":1271042},{"username":"kbenson","words":1266887},{"username":"bluGill","words":1257054},{"username":"mikeash","words":1243383},{"username":"VLM","words":1232064},{"username":"stcredzero","words":1231911},{"username":"danShumway","words":1226924},{"username":"mschuster91","words":1223012},{"username":"patio11","words":1221834},{"username":"jillesvangurp","words":1207706},{"username":"scarface74","words":1204397},{"username":"mindcrime","words":1196425},{"username":"nickpsecurity","words":1185806},{"username":"seanmcdirmid","words":1170598},{"username":"btilly","words":1168930},{"username":"userbinator","words":1168121},{"username":"Silhouette","words":1164470},{"username":"crazygringo","words":1143293},{"username":"DoreenMichele","words":1142196},{"username":"WorldMaker","words":1131846},{"username":"krapp","words":1123477},{"username":"pbhjpbhj","words":1120090},{"username":"roenxi","words":1117583},{"username":"pron","words":1115600},{"username":"lotsofpulp","words":1115132},{"username":"eru","words":1096693},{"username":"Someone","words":1088600},{"username":"YeGoblynQueenne","words":1084279},{"username":"mindslight","words":1075024},{"username":"eesmith","words":1073095},{"username":"DanielBMarkham","words":1069251},{"username":"gumby","words":1065754},{"username":"int_19h","words":1059443},{"username":"ryandrake","words":1058282},{"username":"rbanffy","words":1049059},{"username":"robomartin","words":1046776},{"username":"gruez","words":1043797},{"username":"sokoloff","words":1039546},{"username":"pessimizer","words":1039040},{"username":"geofft","words":1038795},{"username":"bane","words":1038783},{"username":"saurik","words":1027086},{"username":"pdonis","words":1026390},{"username":"dylan604","words":1010689},{"username":"ceejayoz","words":997305},{"username":"Spooky23","words":993330},{"username":"dahart","words":992858},{"username":"danso","words":990200},{"username":"imtringued","words":987470},{"username":"tsimionescu","words":974351},{"username":"tokenadult","words":971888},{"username":"dalke","words":959127},{"username":"logfromblammo","words":952400},{"username":"wahern","words":950995},{"username":"Jtsummers","words":948403},{"username":"ZeroGravitas","words":943294},{"username":"JohnFen","words":942044},{"username":"ajross","words":935347},{"username":"philwelch","words":934601},{"username":"ggm","words":934149},{"username":"jeroenhd","words":928250},{"username":"viraptor","words":927119},{"username":"rdtsc","words":924877},{"username":"SwellJoe","words":918674},{"username":"steveklabnik","words":912601},{"username":"watwut","words":911459},{"username":"skissane","words":906412},{"username":"_delirium","words":904778},{"username":"yummyfajitas","words":896056},{"username":"icebraining","words":894647},{"username":"Cthulhu_","words":893556},{"username":"marcosdumay","words":893178},{"username":"hn_throwaway_99","words":892827},{"username":"ksec","words":892312},{"username":"refurb","words":891864},{"username":"gus_massa","words":884242},{"username":"adrian_b","words":882549},{"username":"notahacker","words":882475},{"username":"hga","words":881203},{"username":"EGreg","words":880365},{"username":"simonh","words":876060},{"username":"bad_user","words":872116},{"username":"jcranmer","words":868727},{"username":"saagarjha","words":867103},{"username":"InclinedPlane","words":861001},{"username":"PeterisP","words":857443},{"username":"michaelochurch","words":855247},{"username":"cookiecaper","words":849900},{"username":"nradov","words":849151},{"username":"belorn","words":841542},{"username":"mc32","words":833730},{"username":"dogma1138","words":831488},{"username":"Mz","words":826205},{"username":"dmix","words":825654},{"username":"rektide","words":825297},{"username":"paulmd","words":820317},{"username":"JoeAltmaier","words":817572},{"username":"tracker1","words":815031},{"username":"joe_the_user","words":812263},{"username":"mike_hearn","words":810887},{"username":"jodrellblank","words":809743},{"username":"giantg2","words":808192},{"username":"smsm42","words":807018},{"username":"bsder","words":805807},{"username":"sneak","words":801278},{"username":"ncmncm","words":794394},{"username":"mistermann","words":792930},{"username":"toyg","words":789405},{"username":"fragmede","words":788359},{"username":"amelius","words":787659},{"username":"arcticbull","words":786591},{"username":"vkou","words":785904},{"username":"ChrisMarshallNY","words":779777},{"username":"TheOtherHobbes","words":777231},{"username":"londons_explore","words":775991},{"username":"davidw","words":774926},{"username":"lisper","words":771686},{"username":"jchw","words":771529},{"username":"nl","words":768940},{"username":"bitwize","words":766950},{"username":"ars","words":756196},{"username":"mikekchar","words":755803},{"username":"Spivak","words":755343},{"username":"rdl","words":753517},{"username":"bombcar","words":748323},{"username":"jfengel","words":747677},{"username":"jedberg","words":738986},{"username":"sandworm101","words":737226},{"username":"alkonaut","words":733615},{"username":"maxerickson","words":732444},{"username":"gambiting","words":730616},{"username":"eropple","words":724328},{"username":"johnnyanmac","words":724155},{"username":"barrkel","words":722792},{"username":"jiggawatts","words":722218},{"username":"shadowgovt","words":721790},{"username":"defrost","words":719535},{"username":"peterwwillis","words":718701},{"username":"lsc","words":718449},{"username":"dekhn","words":715530},{"username":"echelon","words":712473},{"username":"taeric","words":710576},{"username":"munificent","words":708960},{"username":"PragmaticPulp","words":707956},{"username":"onion2k","words":707210},{"username":"e12e","words":705328},{"username":"chrismorgan","words":702043},{"username":"potatolicious","words":701743},{"username":"JoshTriplett","words":698215},{"username":"aidenn0","words":697722},{"username":"agumonkey","words":696923},{"username":"matheusmoreira","words":695825},{"username":"salawat","words":695801},{"username":"jasode","words":693853},{"username":"lifeisstillgood","words":692263},{"username":"randomdata","words":691585},{"username":"mcv","words":691399},{"username":"dspillett","words":688007},{"username":"jessaustin","words":687838},{"username":"autoexec","words":686053},{"username":"simonw","words":685484},{"username":"s1artibartfast","words":685192},{"username":"Nextgrid","words":681611},{"username":"snowwrestler","words":679671},{"username":"ocdtrekkie","words":677941},{"username":"jacobolus","words":676677},{"username":"Barrin92","words":676292},{"username":"neilv","words":675099},{"username":"zaroth","words":674888},{"username":"tyingq","words":674598},{"username":"acqq","words":674555},{"username":"nine_k","words":672861},{"username":"michaelt","words":670196},{"username":"hilbert42","words":670101},{"username":"falcolas","words":669847},{"username":"vacri","words":668316},{"username":"jrochkind1","words":662648},{"username":"KronisLV","words":660916},{"username":"chimeracoder","words":657203},{"username":"lucb1e","words":654563},{"username":"freehunter","words":653898},{"username":"protomyth","words":652397},{"username":"duxup","words":652216},{"username":"pmoriarty","words":649587},{"username":"lolinder","words":647195},{"username":"detaro","words":643506},{"username":"ineedasername","words":637675},{"username":"samstave","words":636071},{"username":"BeetleB","words":632442},{"username":"zamadatix","words":631619},{"username":"yellowapple","words":630794},{"username":"throwanem","words":627670},{"username":"Someone1234","words":627078},{"username":"sp332","words":626706},{"username":"Theodores","words":625561},{"username":"dijit","words":624900},{"username":"vlovich123","words":623200},{"username":"carapace","words":622957},{"username":"lazide","words":622284},{"username":"cletus","words":619379},{"username":"cmrdporcupine","words":619136},{"username":"DannyBee","words":617743},{"username":"lutusp","words":617286},{"username":"LinuxBender","words":616624},{"username":"PaulDavisThe1st","words":615460},{"username":"Nursie","words":612912},{"username":"epistasis","words":612493},{"username":"dkarl","words":611914},{"username":"rvz","words":610971},{"username":"smoldesu","words":609151},{"username":"IshKebab","words":608382},{"username":"rsynnott","words":606350},{"username":"gamblor956","words":605969},{"username":"CamperBob2","words":605557},{"username":"dasil003","words":604883},{"username":"tim333","words":604796},{"username":"klodolph","words":604725},{"username":"scotty79","words":603022},{"username":"somenameforme","words":602478},{"username":"atoav","words":602230},{"username":"moron4hire","words":601993},{"username":"jacques_chester","words":601775},{"username":"asdff","words":599439},{"username":"reaperducer","words":598571},{"username":"pdimitar","words":597511},{"username":"gojomo","words":597405},{"username":"bryanlarsen","words":597033},{"username":"naasking","words":596830},{"username":"zozbot234","words":596808},{"username":"1vuio0pswjnm7","words":596805},{"username":"analog31","words":595889},{"username":"mechanical_fish","words":595127},{"username":"kamaal","words":594723},{"username":"nullc","words":594336},{"username":"throwaway894345","words":593186},{"username":"smt88","words":592663},{"username":"ModernMech","words":592607},{"username":"shagie","words":592549},{"username":"beagle3","words":592159},{"username":"thaumaturgy","words":591824},{"username":"solardev","words":590863},{"username":"josephg","words":590160},{"username":"FireBeyond","words":588590},{"username":"capableweb","words":588373},{"username":"motohagiography","words":587549},{"username":"gwern","words":584458},{"username":"hedora","words":581599},{"username":"raverbashing","words":578549},{"username":"fuzzfactor","words":577863},{"username":"Alex3917","words":577458},{"username":"chrisseaton","words":577219},{"username":"michaelmrose","words":576567},{"username":"ColinWright","words":575909},{"username":"lordnacho","words":573373},{"username":"renewiltord","words":573304},{"username":"ilaksh","words":572165},{"username":"mrguyorama","words":571311},{"username":"freedomben","words":570787},{"username":"gaius","words":568030},{"username":"bigiain","words":567719},{"username":"chubot","words":566709},{"username":"rootusrootus","words":565066},{"username":"robocat","words":565048},{"username":"kerkeslager","words":564838},{"username":"jandrese","words":564741},{"username":"ravenstine","words":564579},{"username":"StavrosK","words":564422},{"username":"kibwen","words":562066},{"username":"ddingus","words":561366},{"username":"ekianjo","words":561301},{"username":"dsfyu404ed","words":560212},{"username":"bryanrasmussen","words":559371},{"username":"OJFord","words":558888},{"username":"candiodari","words":555434},{"username":"petercooper","words":554531},{"username":"pc86","words":554206},{"username":"dllthomas","words":554028},{"username":"pcwalton","words":553895},{"username":"zanny","words":553818},{"username":"pyre","words":553658},{"username":"timr","words":552171},{"username":"mtgx","words":549646},{"username":"mgkimsal","words":548493},{"username":"bee_rider","words":548029},{"username":"mdasen","words":547852},{"username":"skybrian","words":547219},{"username":"yjftsjthsd-h","words":547184},{"username":"vmception","words":546673},{"username":"SilasX","words":545810},{"username":"Jach","words":545229},{"username":"astrange","words":543797},{"username":"cryptonector","words":543503},{"username":"prepend","words":543024},{"username":"perl4ever","words":541063},{"username":"wolverine876","words":540068},{"username":"GuB-42","words":539054},{"username":"pavel_lishin","words":538580},{"username":"alephnerd","words":538417},{"username":"em-bee","words":538074},{"username":"mark_l_watson","words":537850},{"username":"joshstrange","words":537316},{"username":"mcguire","words":537018},{"username":"noduerme","words":536053},{"username":"laumars","words":535483},{"username":"muzani","words":532760},{"username":"contingencies","words":531512},{"username":"gnicholas","words":530606},{"username":"colechristensen","words":529552},{"username":"the_af","words":527975},{"username":"olliej","words":527335},{"username":"malandrew","words":527275},{"username":"kmeisthax","words":527103},{"username":"hef19898","words":524945},{"username":"wmf","words":523765},{"username":"dagw","words":522988},{"username":"komali2","words":522879},{"username":"joshuamorton","words":522551},{"username":"Groxx","words":522235},{"username":"jandrewrogers","words":520682},{"username":"specialist","words":520281},{"username":"Aurornis","words":520207},{"username":"mikestew","words":519473},{"username":"nitrogen","words":519098},{"username":"lispm","words":518533},{"username":"bob1029","words":517582},{"username":"phkahler","words":517359},{"username":"vel0city","words":517109},{"username":"mannykannot","words":516577},{"username":"wtallis","words":516412},{"username":"baddox","words":516177},{"username":"trhway","words":516097},{"username":"dnautics","words":515481},{"username":"nkurz","words":514233},{"username":"badrabbit","words":514112},{"username":"ghshephard","words":512414},{"username":"chii","words":510629},{"username":"pixl97","words":509459},{"username":"tombert","words":509412},{"username":"oblio","words":508966},{"username":"simias","words":508793},{"username":"Fnoord","words":508721},{"username":"amluto","words":508078},{"username":"baybal2","words":507146},{"username":"netcan","words":507134},{"username":"throw0101a","words":506410},{"username":"MichaelGG","words":506340},{"username":"AnIdiotOnTheNet","words":505888},{"username":"XorNot","words":505163},{"username":"geebee","words":503920},{"username":"Terr_","words":503738},{"username":"tluyben2","words":502192},{"username":"IgorPartola","words":501885},{"username":"panick21_","words":501694},{"username":"notacoward","words":501688},{"username":"chriswarbo","words":501231},{"username":"bayindirh","words":499736},{"username":"paganel","words":499460},{"username":"dathinab","words":496898},{"username":"arp242","words":496689},{"username":"woodruffw","words":496271},{"username":"jeffbee","words":495970},{"username":"KirinDave","words":495700},{"username":"Terretta","words":495356},{"username":"makomk","words":495022},{"username":"quickthrower2","words":494678},{"username":"Tichy","words":494404},{"username":"manigandham","words":494070},{"username":"JohnBooty","words":494043},{"username":"toss1","words":492905},{"username":"arethuza","words":492736},{"username":"vinceguidry","words":491831},{"username":"munk-a","words":491830},{"username":"briandear","words":491715},{"username":"mrweasel","words":491648},{"username":"pmontra","words":491598},{"username":"schoen","words":491332},{"username":"pfdietz","words":490740},{"username":"082349872349872","words":490242},{"username":"majormajor","words":489909},{"username":"dangus","words":488203},{"username":"pasbesoin","words":488065},{"username":"zackmorris","words":487770},{"username":"wkat4242","words":487367},{"username":"kube-system","words":487346},{"username":"sanderjd","words":487130},{"username":"logicallee","words":486624},{"username":"wongarsu","words":485680},{"username":"pas","words":485617},{"username":"pavlov","words":484782},{"username":"lxgr","words":481692},{"username":"visarga","words":481643},{"username":"westurner","words":480762},{"username":"mlyle","words":480274},{"username":"comex","words":480151},{"username":"walrus01","words":479689},{"username":"scott_s","words":479617},{"username":"lelanthran","words":479183},{"username":"sliverstorm","words":478776},{"username":"Wowfunhappy","words":478315},{"username":"nailer","words":477323},{"username":"javajosh","words":477209},{"username":"slg","words":475690},{"username":"tomjen3","words":475133},{"username":"Shivetya","words":474894},{"username":"mrtksn","words":474803},{"username":"gjm11","words":474738},{"username":"AndrewKemendo","words":474682},{"username":"Balgair","words":474615},{"username":"MBCook","words":473150},{"username":"jdietrich","words":471905},{"username":"chongli","words":471810},{"username":"magicalhippo","words":471627},{"username":"hardwaresofton","words":469537},{"username":"m463","words":468947},{"username":"AtlasBarfed","words":468242},{"username":"matwood","words":468128},{"username":"jariel","words":468107},{"username":"ams6110","words":465827},{"username":"Broken_Hippo","words":464912},{"username":"deathanatos","words":464869},{"username":"eli_gottlieb","words":464361},{"username":"eyelidlessness","words":463634},{"username":"paxys","words":463540},{"username":"BoorishBears","words":463389},{"username":"barry-cotter","words":461261},{"username":"layer8","words":461200},{"username":"mirimir","words":460504},{"username":"kevingadd","words":459765},{"username":"threeseed","words":459388},{"username":"sudosysgen","words":459276},{"username":"LeifCarrotson","words":459246},{"username":"raattgift","words":459146},{"username":"photochemsyn","words":459122},{"username":"Karunamon","words":458877},{"username":"samatman","words":458676},{"username":"nerdponx","words":457737},{"username":"wruza","words":457002},{"username":"ThomPete","words":456239},{"username":"rsj_hn","words":456013},{"username":"cyphar","words":455906},{"username":"anamax","words":455841},{"username":"mytailorisrich","words":455030},{"username":"pvaldes","words":454952},{"username":"taneq","words":454862},{"username":"kkfx","words":453729},{"username":"0xbadcafebee","words":452344},{"username":"mikewarot","words":451822},{"username":"xg15","words":451752},{"username":"kuschku","words":451291},{"username":"sofixa","words":451133},{"username":"cperciva","words":450573},{"username":"Jensson","words":449681},{"username":"dmitriid","words":449333},{"username":"luckylion","words":448821},{"username":"scrollaway","words":448436},{"username":"CydeWeys","words":448263},{"username":"makeitdouble","words":447844},{"username":"jmyeet","words":447825},{"username":"usrusr","words":447493},{"username":"erikpukinskis","words":446465},{"username":"xoa","words":446320},{"username":"dkersten","words":445164},{"username":"rtpg","words":444935},{"username":"pedalpete","words":444889},{"username":"pdkl95","words":443801},{"username":"tripzilch","words":443715},{"username":"karmakaze","words":443086},{"username":"edw519","words":442840},{"username":"didibus","words":442684},{"username":"kaba0","words":441366},{"username":"mattmanser","words":441083},{"username":"bmelton","words":439705},{"username":"saiya-jin","words":438324},{"username":"kstrauser","words":438310},{"username":"bawolff","words":438073},{"username":"nabla9","words":437762},{"username":"diggan","words":437184},{"username":"loup-vaillant","words":436425},{"username":"untog","words":436361},{"username":"monocasa","words":435563},{"username":"drzaiusapelord","words":435442},{"username":"nickik","words":435350},{"username":"jauntywundrkind","words":435192},{"username":"Waterluvian","words":435188},{"username":"bilbo0s","words":435091},{"username":"djsumdog","words":434378},{"username":"twic","words":433567},{"username":"kls","words":433370},{"username":"edanm","words":433285},{"username":"closeparen","words":433235},{"username":"flohofwoe","words":432793},{"username":"criddell","words":432294},{"username":"chiefalchemist","words":432246},{"username":"nonrandomstring","words":431150},{"username":"whatshisface","words":430896},{"username":"danieldk","words":430134},{"username":"roel_v","words":429731},{"username":"walterbell","words":429663},{"username":"csomar","words":428973},{"username":"grecy","words":427307},{"username":"ubernostrum","words":426455},{"username":"zahlman","words":425581},{"username":"Aeolun","words":425234},{"username":"jessriedel","words":424569},{"username":"mlthoughts2018","words":424566},{"username":"ClumsyPilot","words":424078},{"username":"tomp","words":423103},{"username":"bumby","words":421717},{"username":"nonameiguess","words":421399},{"username":"Alupis","words":420097},{"username":"yorwba","words":419676},{"username":"Bartweiss","words":419280},{"username":"jlokier","words":417969},{"username":"Melting_Harps","words":417200},{"username":"runarberg","words":416858},{"username":"hombre_fatal","words":416208},{"username":"codingdave","words":416117},{"username":"mpweiher","words":415385},{"username":"fauigerzigerk","words":414773},{"username":"rchaud","words":414709},{"username":"cogman10","words":414299},{"username":"r00fus","words":413996},{"username":"cableshaft","words":413886},{"username":"Swizec","words":413651},{"username":"Zigurd","words":413462},{"username":"chc","words":413230},{"username":"littlestymaar","words":412807},{"username":"account42","words":412738},{"username":"kenjackson","words":410235},{"username":"foldr","words":410129},{"username":"swombat","words":409972},{"username":"TaylorAlexander","words":409959},{"username":"bruce511","words":409155},{"username":"dpark","words":409081},{"username":"Nasrudith","words":407961},{"username":"Natsu","words":407830},{"username":"danpalmer","words":407294},{"username":"pg","words":406811},{"username":"bunderbunder","words":405987},{"username":"Symbiote","words":405755},{"username":"throwaway0a5e","words":405729},{"username":"lapcat","words":405274},{"username":"com2kid","words":405203},{"username":"heavyset_go","words":404727},{"username":"hnlmorg","words":404700},{"username":"stale2002","words":404471},{"username":"emodendroket","words":404435},{"username":"agentultra","words":404392},{"username":"mywittyname","words":404027},{"username":"kristopolous","words":403809},{"username":"cm2187","words":402824},{"username":"Apocryphon","words":401808},{"username":"inglor_cz","words":401198},{"username":"simion314","words":401063},{"username":"badsectoracula","words":400962},{"username":"flukus","words":400515},{"username":"aaron695","words":400461},{"username":"ehnto","words":399696},{"username":"dheera","words":399565},{"username":"sillysaurusx","words":399518},{"username":"skrebbel","words":399388},{"username":"lloeki","words":399019},{"username":"klyrs","words":398886},{"username":"chrisco255","words":398572},{"username":"rsync","words":398233},{"username":"PavlovsCat","words":397784},{"username":"gruseom","words":397294},{"username":"KaiserPro","words":397236},{"username":"ComputerGuru","words":397008},{"username":"cr0sh","words":396966},{"username":"shkkmo","words":396053},{"username":"lkrubner","words":395706},{"username":"grandalf","words":395477},{"username":"vanderZwan","words":394411},{"username":"scarface_74","words":394235},{"username":"nickjj","words":393848},{"username":"eridius","words":393728},{"username":"angersock","words":393610},{"username":"danbruc","words":392698},{"username":"kqr","words":392187},{"username":"js2","words":391746},{"username":"hutzlibu","words":391127},{"username":"rglullis","words":390890},{"username":"piva00","words":390643},{"username":"DennisP","words":390486},{"username":"Symmetry","words":390385},{"username":"dalbasal","words":389673},{"username":"teddyh","words":388780},{"username":"lostlogin","words":388723},{"username":"hnbad","words":388085},{"username":"Scoundreller","words":387832},{"username":"gwbas1c","words":387667},{"username":"chatmasta","words":387286},{"username":"HeyLaughingBoy","words":387258},{"username":"IkmoIkmo","words":386817},{"username":"buro9","words":386437},{"username":"bell-cot","words":385973},{"username":"themodelplumber","words":385885},{"username":"meowface","words":384457},{"username":"modeless","words":384313},{"username":"giancarlostoro","words":383903},{"username":"mjburgess","words":383115},{"username":"lproven","words":382687},{"username":"kalleboo","words":382118},{"username":"imiric","words":381089},{"username":"loeg","words":381067},{"username":"raxxorrax","words":380493},{"username":"bogomipz","words":380197},{"username":"tablespoon","words":379793},{"username":"fossuser","words":379692},{"username":"wutbrodo","words":379186},{"username":"nicoburns","words":379083},{"username":"jjoonathan","words":379051},{"username":"saghm","words":378068},{"username":"dTal","words":377669},{"username":"credit_guy","words":377315},{"username":"austincheney","words":377213},{"username":"Brian_K_White","words":376902},{"username":"larrys","words":376329},{"username":"grey-area","words":376030},{"username":"lamontcg","words":375479},{"username":"rwmj","words":375405},{"username":"ajuc","words":374738},{"username":"greenyoda","words":374594},{"username":"klibertp","words":374577},{"username":"kstenerud","words":374028},{"username":"bambax","words":373656},{"username":"gfodor","words":373183},{"username":"raganwald","words":372703},{"username":"denton-scratch","words":372452},{"username":"mercer","words":372163},{"username":"mseebach","words":372033},{"username":"gpm","words":371393},{"username":"prawn","words":371191},{"username":"wvenable","words":371013},{"username":"mdip","words":369946},{"username":"egypturnash","words":369732},{"username":"chris_wot","words":369624},{"username":"kijin","words":369498},{"username":"shmerl","words":369455},{"username":"jancsika","words":369413},{"username":"ErrantX","words":368795},{"username":"3pt14159","words":368505},{"username":"gregjor","words":368420},{"username":"JKCalhoun","words":368267},{"username":"jollybean","words":368118},{"username":"mattmaroon","words":368028},{"username":"sangnoir","words":367769},{"username":"mpyne","words":367720},{"username":"beat","words":367524},{"username":"version_five","words":367443},{"username":"danans","words":367080},{"username":"Gibbon1","words":366740},{"username":"mdp2021","words":366511},{"username":"jasonlotito","words":366354},{"username":"scythe","words":366296},{"username":"ChuckNorris89","words":366078},{"username":"j45","words":365740},{"username":"bbarnett","words":365472},{"username":"Stratoscope","words":365178},{"username":"maccard","words":364738},{"username":"JadeNB","words":364051},{"username":"hackuser","words":363907},{"username":"robertlagrant","words":362953},{"username":"Zenst","words":362740},{"username":"syshum","words":362370},{"username":"marcus_holmes","words":362361},{"username":"sitkack","words":362304},{"username":"peter_d_sherman","words":361980},{"username":"yieldcrv","words":361819},{"username":"mixmastamyk","words":361627},{"username":"cromwellian","words":360851},{"username":"ericmay","words":360392},{"username":"pm90","words":359823},{"username":"globular-toast","words":359528},{"username":"microcolonel","words":359373},{"username":"hollerith","words":358881},{"username":"jlgreco","words":358807},{"username":"pxc","words":358360},{"username":"lm28469","words":358000},{"username":"thu2111","words":357932},{"username":"graeme","words":357848},{"username":"unalone","words":357848},{"username":"verdverm","words":357679},{"username":"squarefoot","words":357327},{"username":"jjk166","words":357243},{"username":"sillysaurus3","words":357208},{"username":"titzer","words":357191},{"username":"Jugurtha","words":356902},{"username":"mjevans","words":356885},{"username":"zepto","words":356798},{"username":"pydry","words":356477},{"username":"codetrotter","words":355950},{"username":"danaris","words":355543},{"username":"palata","words":355535},{"username":"Dalewyn","words":354994},{"username":"zAy0LfpBZLC8mAC","words":353917},{"username":"jelliclesfarm","words":353871},{"username":"jameshart","words":353640},{"username":"pvg","words":353226},{"username":"nobody9999","words":353015},{"username":"koolba","words":352571},{"username":"Houshalter","words":352306},{"username":"vbezhenar","words":352268},{"username":"UncleMeat","words":351607},{"username":"bmitc","words":351516},{"username":"opportune","words":351386},{"username":"keiferski","words":351012},{"username":"steve_adams_86","words":350649},{"username":"fnordpiglet","words":350078},{"username":"rhizome","words":349953},{"username":"karaterobot","words":349929},{"username":"bobthepanda","words":349732},{"username":"BiteCode_dev","words":349720},{"username":"loceng","words":349517},{"username":"SoftTalker","words":349497},{"username":"cesarb","words":349274},{"username":"gerdesj","words":349033},{"username":"enraged_camel","words":348123},{"username":"kasey_junk","words":348090},{"username":"burntsushi","words":347829},{"username":"einhverfr","words":347622},{"username":"outworlder","words":347601},{"username":"CM30","words":347562},{"username":"rtkwe","words":347333},{"username":"rahimnathwani","words":346547},{"username":"marginalia_nu","words":346449},{"username":"al_borland","words":346385},{"username":"filoleg","words":346272},{"username":"Sohcahtoa82","words":346102},{"username":"busterarm","words":346078},{"username":"taylodl","words":345682},{"username":"bdcravens","words":345662},{"username":"rconti","words":345622},{"username":"fsloth","words":345427},{"username":"MaxBarraclough","words":345342},{"username":"cortesoft","words":344831},{"username":"tikhonj","words":344820},{"username":"crdoconnor","words":344782},{"username":"krisoft","words":344565},{"username":"immibis","words":344431},{"username":"majewsky","words":344376},{"username":"zokier","words":344269},{"username":"lmilcin","words":344224},{"username":"gizmo686","words":343979},{"username":"Clubber","words":343938},{"username":"jasonkester","words":343789},{"username":"SkyMarshal","words":343777},{"username":"KennyBlanken","words":343744},{"username":"CWuestefeld","words":343625},{"username":"latchkey","words":343537},{"username":"jiggy2011","words":343532},{"username":"jimbokun","words":343364},{"username":"haberman","words":342575},{"username":"wlesieutre","words":341972},{"username":"drdaeman","words":341933},{"username":"NeedMoreTea","words":341428},{"username":"jaclaz","words":341423},{"username":"zmmmmm","words":341116},{"username":"adrianN","words":341108},{"username":"pclmulqdq","words":341064},{"username":"tristor","words":340849},{"username":"latexr","words":340789},{"username":"judge2020","words":340380},{"username":"RcouF1uZ4gsC","words":340139},{"username":"AlexandrB","words":339846},{"username":"Macha","words":339813},{"username":"sophacles","words":339789},{"username":"wccrawford","words":339399},{"username":"learc83","words":339001},{"username":"zzo38computer","words":338984},{"username":"lionhearted","words":338273},{"username":"GekkePrutser","words":336315},{"username":"davismwfl","words":336097},{"username":"camgunz","words":335840},{"username":"drawkbox","words":335832},{"username":"Lazare","words":335727},{"username":"PhasmaFelis","words":334902},{"username":"tel","words":334547},{"username":"dotancohen","words":334529},{"username":"zdragnar","words":334512},{"username":"TacticalCoder","words":334494},{"username":"asveikau","words":334427},{"username":"dane-pgp","words":334295},{"username":"stephenr","words":334054},{"username":"noir_lord","words":332976},{"username":"FabHK","words":332676},{"username":"ignoramous","words":331856},{"username":"eternityforest","words":331828},{"username":"clairity","words":331644},{"username":"grellas","words":331639},{"username":"netsharc","words":331421},{"username":"FirmwareBurner","words":331260},{"username":"madaxe_again","words":331136},{"username":"gjsman-1000","words":331044},{"username":"cmurf","words":330873},{"username":"Klathmon","words":330771},{"username":"pluma","words":330498},{"username":"Udo","words":330422},{"username":"kortilla","words":329759},{"username":"GordonS","words":329420},{"username":"matt4077","words":329150},{"username":"Robotbeat","words":329064},{"username":"chipotle_coyote","words":329017},{"username":"mdaniel","words":328943},{"username":"IanCal","words":328938},{"username":"scarmig","words":328666},{"username":"alistairSH","words":328426},{"username":"humanrebar","words":328298},{"username":"melling","words":328005},{"username":"intended","words":327858},{"username":"SpicyLemonZest","words":327621},{"username":"Izkata","words":327514},{"username":"zelphirkalt","words":327446},{"username":"rurban","words":327418},{"username":"philipkglass","words":327071},{"username":"dirtyid","words":326728},{"username":"saalweachter","words":326573},{"username":"mbreese","words":326398},{"username":"dangrossman","words":325578},{"username":"joezydeco","words":325002},{"username":"lern_too_spel","words":324969},{"username":"throwawaysea","words":324871},{"username":"smacktoward","words":324689},{"username":"orwin","words":324631},{"username":"jonnathanson","words":324629},{"username":"Turing_Machine","words":324594},{"username":"macspoofing","words":324538},{"username":"josteink","words":324421},{"username":"ska","words":324223},{"username":"x0x0","words":323922},{"username":"zamalek","words":323887},{"username":"theamk","words":323766},{"username":"astrodust","words":323674},{"username":"_ph_","words":323437},{"username":"haswell","words":323408},{"username":"at-fates-hands","words":322945},{"username":"TulliusCicero","words":322944},{"username":"electromagnetic","words":322822},{"username":"jjav","words":322513},{"username":"paulddraper","words":322351},{"username":"mumblemumble","words":322272},{"username":"NoMoreNicksLeft","words":322169},{"username":"CryptoPunk","words":322078},{"username":"bko","words":322009},{"username":"seanhunter","words":322004},{"username":"User23","words":321215},{"username":"maxxxxx","words":320930},{"username":"musicale","words":320591},{"username":"georgemcbay","words":320293},{"username":"dan-robertson","words":320285},{"username":"wallflower","words":320283},{"username":"exikyut","words":319829},{"username":"cycomanic","words":319822},{"username":"AstralStorm","words":319737},{"username":"mathattack","words":319710},{"username":"fulafel","words":319308},{"username":"whimsicalism","words":319201},{"username":"superkuh","words":318752},{"username":"pornel","words":318425},{"username":"jraph","words":318329},{"username":"wyager","words":318316},{"username":"danieltillett","words":318150},{"username":"lambda","words":317994},{"username":"akiselev","words":317634},{"username":"justin66","words":317399},{"username":"rasz","words":317052},{"username":"legitster","words":316161},{"username":"_heimdall","words":315953},{"username":"mbesto","words":315912},{"username":"numpad0","words":315593},{"username":"bediger4000","words":315581},{"username":"gpderetta","words":315439},{"username":"kypro","words":315193},{"username":"minimaxir","words":314850},{"username":"wwweston","words":314726},{"username":"darawk","words":314599},{"username":"leetcrew","words":314419},{"username":"Ekaros","words":314197},{"username":"golergka","words":314174},{"username":"necovek","words":313909},{"username":"h2odragon","words":313655},{"username":"Pxtl","words":313415},{"username":"hosh","words":313363},{"username":"eli","words":313031},{"username":"mulmen","words":312084},{"username":"Havoc","words":311663},{"username":"dataflow","words":311364},{"username":"duskwuff","words":311331},{"username":"jonknee","words":310989},{"username":"SllX","words":310757},{"username":"jstimpfle","words":310630},{"username":"yourapostasy","words":310413},{"username":"SideburnsOfDoom","words":310144},{"username":"avar","words":309719},{"username":"Karrot_Kream","words":309716},{"username":"collyw","words":309198},{"username":"chaostheory","words":309192},{"username":"sph","words":308809},{"username":"simoncion","words":308608},{"username":"kevincox","words":308580},{"username":"mooreds","words":308431},{"username":"fit2rule","words":308111},{"username":"rstuart4133","words":307704},{"username":"jsnell","words":307650},{"username":"unclebucknasty","words":307408},{"username":"kergonath","words":307169},{"username":"staunch","words":307167},{"username":"Zak","words":307156},{"username":"kllrnohj","words":307155},{"username":"stavros","words":307127},{"username":"lobster_johnson","words":307058},{"username":"noonespecial","words":306993},{"username":"AmericanChopper","words":306805},{"username":"ashtonkem","words":306401},{"username":"ctdonath","words":306300},{"username":"fsckboy","words":305239},{"username":"baby","words":304715},{"username":"jjeaff","words":304486},{"username":"ricardobeat","words":304438},{"username":"digi_owl","words":304305},{"username":"lifthrasiir","words":304216},{"username":"no_wizard","words":303835},{"username":"boomboomsubban","words":303661},{"username":"mrandish","words":303514},{"username":"LatteLazy","words":303365},{"username":"umanwizard","words":303336},{"username":"user5994461","words":303207},{"username":"elihu","words":302685},{"username":"TazeTSchnitzel","words":302665},{"username":"__MatrixMan__","words":302409},{"username":"rossdavidh","words":302339},{"username":"lucideer","words":302084},{"username":"ZenoArrow","words":302007},{"username":"ALittleLight","words":301848},{"username":"ToucanLoucan","words":301715},{"username":"charcircuit","words":301542},{"username":"mikeyouse","words":301525},{"username":"xyzzyz","words":300942},{"username":"unethical_ban","words":300922},{"username":"fastball","words":300482},{"username":"zo1","words":300350},{"username":"shakna","words":300188},{"username":"brailsafe","words":300176},{"username":"eternalban","words":299672},{"username":"vineyardmike","words":299261},{"username":"p_l","words":299107},{"username":"Kalium","words":298948},{"username":"nemo44x","words":298900},{"username":"mturmon","words":298848},{"username":"paulpauper","words":298839},{"username":"m0zg","words":298686},{"username":"hajile","words":298612}]
;
        // DATA_END

        async function getRank() {
            const user = document.getElementById('username').value.trim();
            if(!user) return;
            showLoader(true);
            const sql = `
                SELECT username, total_words, global_rank, total_active_users,
                concat(toString(global_rank), ' / ', toString(total_active_users)) AS placement,
                round(100 * (1 - (global_rank / total_active_users)), 2) AS percentile
                FROM (
                    SELECT by AS username, sum(length(splitByWhitespace(text))) AS total_words,
                    rank() OVER (ORDER BY sum(length(splitByWhitespace(text))) DESC) AS global_rank,
                    count(*) OVER () AS total_active_users
                    FROM hackernews_history WHERE type = 'comment' AND deleted = 0 AND notEmpty(by)
                    GROUP BY by
                ) WHERE lower(username) = lower('${user}') FORMAT JSON
            `;
            try {
                const res = await fetch(CH_URL, { method: 'POST', body: sql });
                const json = await res.json();
                if(json.rows > 0) {
                    const data = json.data[0];
                    document.getElementById('res-user').innerText = data.username;
                    document.getElementById('res-rank').innerText = data.placement;
                    document.getElementById('res-words').innerText = Number(data.total_words).toLocaleString();
                    document.getElementById('res-percentile').innerText = "Top " + (100 - data.percentile).toFixed(2) + "%";
                    document.getElementById('got-val').innerText = (data.total_words / 300000).toFixed(2) + " Volumes";
                    document.getElementById('results').style.display = 'grid';
                    document.getElementById('got-section').style.display = 'block';
                } else { alert("User not found."); }
            } catch (e) { alert("API Error."); }
            showLoader(false);
        }

        async function getTop1000() {
            let data = PRELOADED_LEADERBOARD;
            
            // If the GitHub action hasn't run yet, fall back to live API
            if(!data || data.length === 0) {
                showLoader(true);
                const sql = `SELECT by as username, sum(length(splitByWhitespace(text))) as words FROM hackernews_history WHERE type = 'comment' AND deleted = 0 AND notEmpty(by) GROUP BY by ORDER BY words DESC LIMIT 1000 FORMAT JSON`;
                try {
                    const res = await fetch(CH_URL, { method: 'POST', body: sql });
                    const json = await res.json();
                    data = json.data;
                } catch (e) { alert("API Error."); showLoader(false); return; }
            }

            let html = '';
            data.forEach((row, i) => {
                html += `<div class="lb-row">
                    <span>${i+1}. <span class="lb-user">${row.username || row.by}</span></span>
                    <span>${Number(row.words).toLocaleString()} words</span>
                </div>`;
            });
            document.getElementById('lb-content').innerHTML = html;
            document.getElementById('leaderboard-section').style.display = 'block';
            window.scrollTo({ top: document.getElementById('leaderboard-section').offsetTop, behavior: 'smooth' });
            showLoader(false);
        }

        function showLoader(show) {
            document.getElementById('loader').style.display = show ? 'block' : 'none';
        }
    </script>
</body>
</html>
